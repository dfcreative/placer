<!doctype html>

<style type="text/css">
	* {
		box-sizing: border-box;
	}
	body{
		font-family: sans-serif;
		font-size: 12px;
		background: #f8f8f8;
		text-align: center;
		color: #b8b8b8;
		text-shadow: 0 1px 0 0 white;
	}
	h1,h2,h3{
		text-align: center;
		text-transform: uppercase;
		letter-spacing: 1px;
		/*font-weight: normal;*/
		font-size: 1.6em;
		line-height: 2;
		margin-top: 2em;
		margin-bottom: 1em;
	}
	.container{
		background: white;
		display: inline-block;
		width: 28%;
		/*max-width: 240px;*/
		/*min-width: 160px;*/
		height: 200px;
		margin: 3px 1px;
		vertical-align: top;
		text-align: center;
		line-height: 200px;

		/*color: rgb(225, 155, 127);*/
		font-size: 9px;
		letter-spacing: 1px;
		text-transform: uppercase;
	}
	.padding{
		padding: 25px;
		position: relative;
	}
	.container.padding{
		line-height: 160px;
	}
	.padding:after{
		content: '';
		position: absolute;
		top: 25px;
		left: 25px;
		right: 25px;
		bottom: 25px;
		border: 1px dashed #bbb;
	}
	.placee{
		display: block;
		width: 80px;
		height: 70px;
		line-height: 78px;
		background: rgb(162, 255, 199);
		color: rgba(81, 104, 148, .9);
		text-align: center;
		z-index: 1;
		white-space: nowrap;
	}
	.placer{
		position: relative;
		background: rgb(164, 221, 248);
		display: inline-block;
		width: 120px;
		height: 40px;
		line-height: 48px;
		vertical-align: middle;
		color: rgba(81, 104, 148, .9);
		text-align: center;
		z-index: 2;
		white-space: nowrap;
	}
	.placee:before{
		content: 'align';
		color: rgba(81, 104, 148, .7);
		position: absolute;
		left:0;
		right: 0;
		bottom: 50%;
		line-height: 16px;
		font-size: 9px;
		letter-spacing: 0;
		text-transform: none;
	}
	.placer:before{
		content: 'side';
		color: rgba(81, 104, 148, .7);
		position: absolute;
		left:0;
		right: 0;
		line-height: 16px;
		bottom: 50%;
		letter-spacing: 0;
		text-transform: none;
		/*color: rgb(225, 155, 127);*/
		/*letter-spacing: 1px;*/
		/*text-transform: uppercase;*/
	}
</style>

<script src="../node_modules/require-stub/index.js"></script>
<!-- <script src="../node_modules/xxx/index.js"></script> -->
<script src="../index.js" data-module-name="placer"></script>


<h2>Static position</h2>


<div class="container">
	<div class="placee" side="left" align="top" title="align">top</div>
	<div class="placer" title="side">left</div>
</div>
<div class="container">
	<div class="placee" side="left" align="middle" title="align">middle</div>
	<div class="placer" title="side">left</div>
</div>
<div class="container">
	<div class="placee" side="left" align="bottom" title="align">bottom</div>
	<div class="placer" title="side">left</div>
</div>



<div class="container">
	<div class="placee" side="right" align="top" title="align">top</div>
	<div class="placer" title="side">right</div>
</div>
<div class="container">
	<div class="placee" side="right" align="middle" title="align">middle</div>
	<div class="placer" title="side">right</div>
</div>
<div class="container">
	<div class="placee" side="right" align="bottom" title="align">bottom</div>
	<div class="placer" title="side">right</div>
</div>



<div class="container">
	<div class="placee" side="top" align="left" title="align">left</div>
	<div class="placer" title="side">top</div>
</div>
<div class="container">
	<div class="placee" side="top" align="center" title="align">center</div>
	<div class="placer" title="side">top</div>
</div>
<div class="container">
	<div class="placee" side="top" align="right" title="align">right</div>
	<div class="placer" title="side">top</div>
</div>


<div class="container">
	<div class="placee" side="bottom" align="left" title="align">left</div>
	<div class="placer" title="side">bottom</div>
</div>
<div class="container">
	<div class="placee" side="bottom" align="center" title="align">center</div>
	<div class="placer" title="side">bottom</div>
</div>
<div class="container">
	<div class="placee" side="bottom" align="right" title="align">right</div>
	<div class="placer" title="side">bottom</div>
</div>



<h2>Relative position with paddings</h2>


<div class="container padding">
	<div class="placee" side="left" align="top" title="align">top</div>
	<div class="placer" title="side">left</div>
</div>
<div class="container padding">
	<div class="placee" side="left" align="middle" title="align">middle</div>
	<div class="placer" title="side">left</div>
</div>
<div class="container padding">
	<div class="placee" side="left" align="bottom" title="align">bottom</div>
	<div class="placer" title="side">left</div>
</div>


<div class="container padding">
	<div class="placee" side="right" align="top" title="align">top</div>
	<div class="placer" title="side">right</div>
</div>
<div class="container padding">
	<div class="placee" side="right" align="middle" title="align">middle</div>
	<div class="placer" title="side">right</div>
</div>
<div class="container padding">
	<div class="placee" side="right" align="bottom" title="align">bottom</div>
	<div class="placer" title="side">right</div>
</div>


<div class="container padding">
	<div class="placee" side="top" align="left" title="align">left</div>
	<div class="placer" title="side">top</div>
</div>
<div class="container padding">
	<div class="placee" side="top" align="center" title="align">center</div>
	<div class="placer" title="side">top</div>
</div>
<div class="container padding">
	<div class="placee" side="top" align="right" title="align">right</div>
	<div class="placer" title="side">top</div>
</div>


<div class="container padding">
	<div class="placee" side="bottom" align="left" title="align">left</div>
	<div class="placer" title="side">bottom</div>
</div>
<div class="container padding">
	<div class="placee" side="bottom" align="center" title="align">center</div>
	<div class="placer" title="side">bottom</div>
</div>
<div class="container padding">
	<div class="placee" side="bottom" align="right" title="align">right</div>
	<div class="placer" title="side">bottom</div>
</div>



<h2>Restricting container</h2>
TODO: limit sides


<h2>Relative to window</h2>
TODO: add centering cases


<h2>Fit</h2>
TODO: add looking up for place, corner cases


<h2>Avoid</h2>
TODO: add avoiding strategy


<script>
	var place = require('placer');

	//query all placee blocks, apply placer positioning
	function update(){
		var $placees = document.querySelectorAll('.placee');
		for (var i = 0, l = $placees.length, $placee; i < l; i++){
			$placee = $placees[i];
			place($placee, {
				relativeTo: $placee.getAttribute('relative-to') || $placee.nextSibling.nextSibling,
				side: $placee.getAttribute('side'),
				avoid: $placee.getAttribute('avoid'),
				align: $placee.getAttribute('align'),
				within: $placee.getAttribute('within'),
				side: $placee.getAttribute('side')
			});
		}
	}

	update();

	window.addEventListener('resize', update);
</script>